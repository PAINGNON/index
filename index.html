<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<link rel="manifest" href="manifest.webmanifest">
	<meta name="full-screen" content="yes"/>
	<meta name="screen-orientation" content="landscape"/>
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta name="apple-mobile-web-app-title" content="PAING NON">
	<!-- รูป icon -->
	<link rel="shortcut icon" href="https://raw.githubusercontent.com/PAINGNON/index/refs/heads/main/Logo.png?v=5.8.34">												    													    
	<title>PAING NON</title>
</head>
<body>
<!-- แสดงฟอร์ม -->
	<iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;border: 0;" src="
		 https://script.google.com/macros/s/AKfycbyVbO51IlKLdMw_bJX6uE9GZknYGX1k_mfpLYctisDcGYEd-jcpZWEy1nspvE1Jmit_Pw/exec
	"frameborder="0"></iframe>

<script>
  if ('serviceWorker' in navigator && 'PushManager' in window) {
    navigator.serviceWorker.register('service-worker.js')
      .then(function(swReg) {
        console.log('Service Worker is registered', swReg);
        // คุณสามารถเรียก subscribe() ที่นี่ต่อได้
      })
      .catch(function(error) {
        console.error('Service Worker Error', error);
      });
  }
</script>
<script>
  async function subscribeUser() {
    const registration = await navigator.serviceWorker.ready;

    const permission = await Notification.requestPermission();
    if (permission !== 'granted') {
      alert('คุณไม่ได้อนุญาตให้แสดงแจ้งเตือน');
      return;
    }

    const subscription = await registration.pushManager.subscribe({
      userVisibleOnly: true,
      applicationServerKey: '<YOUR_PUBLIC_VAPID_KEY>'
    });

    // ส่ง `subscription` นี้ไปเก็บที่ Server เพื่อส่งแจ้งเตือนในภายหลัง
    console.log(JSON.stringify(subscription));
  }

  subscribeUser();
</script>

	
</body>
</html>





